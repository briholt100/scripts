'early_child',
'instruct_suppt',
'fiscal',
'profTech',
'president',
'retail',
'HR',
'mail',
'counselor',
'advisor',
"other"
)
))
colleges_df$job.cat<-factor(colleges_df$job.cat,
sort(c(
"assistant",
"media",
'Chancellor',
"coach",
'boardTrust',
'library',
"vicePres",
'food',
"exempt",
"execAssist",
'dean',
"faculty",
"Program_Coord",
"Coordinator",
"AdminTempAssign",
"Program_Assist",
"facilities",
"security",
"secretary",
"manager",
'supervisor',
'director',
'it_depart',
'specialist',
'early_child',
'instruct_suppt',
'fiscal',
'profTech',
'president',
'retail',
'HR',
'mail',
'counselor',
'advisor',
"other"
)
))
##WARNING; BEWARE OF CHANGING ORDER BELOW, ELSE CATEGORIES WILL CHANGE
colleges_df$job.cat[pres.list]<-"president"
colleges_df$job.cat[Chanc.list]<-"Chancellor"
colleges_df$job.cat[BOT.list]<-'boardTrust'
colleges_df$job.cat[HR.list]<-'HR'
colleges_df$job.cat[vicePres.list]<-"vicePres"
colleges_df$job.cat[media.list]<-'media'
colleges_df$job.cat[mail.list]<-"mail"
colleges_df$job.cat[counselor.list]<-"counselor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[retail.list]<-"retail"
colleges_df$job.cat[library.list]<-"library"
colleges_df$job.cat[profTech.list]<-"profTech"
colleges_df$job.cat[food.list]<-"food"
colleges_df$job.cat[exempt.list]<-"exempt"
colleges_df$job.cat[specialist.list]<-"specialist"
colleges_df$job.cat[faculty.list]<-"faculty"
colleges_df$job.cat[Coord.list]<- "Coordinator"
colleges_df$job.cat[progCoord.list]<-"Program_Coord"
colleges_df$job.cat[AdminTempAssign.list]<-"AdminTempAssign"
colleges_df$job.cat[coach.list]<-"coach"
colleges_df$job.cat[facilities.list]<-"facilities"
colleges_df$job.cat[security.list]<-"security"
colleges_df$job.cat[secretary.list]<-"secretary"
colleges_df$job.cat[manager.list]<-"manager"
colleges_df$job.cat[director.list]<-"director"
colleges_df$job.cat[IT.list]<-"it_depart"
colleges_df$job.cat[childhood.list]<-"early_child"
colleges_df$job.cat[instrSupport.list]<-"instruct_suppt"
colleges_df$job.cat[fiscal.list]<-"fiscal"
colleges_df$job.cat[super.list]<-"supervisor"
colleges_df$job.cat[assist.list]<-"assistant"
colleges_df$job.cat[execAssist.list]<-"execAssist"
colleges_df$job.cat[dean.list]<-"dean"
tail(sort(table(colleges_df$Job.Title[colleges_df$job.cat=='other'])),50)
tail(sort(table(colleges_df$Job.Title[colleges_df$job.cat=='other'])),1000)
#
colleges_df$job.cat<-"other"
vicePres.list<-grep("COLLEGE INFORMATION OFFICR|VICE-PRES|vp|vice pres|v\\.p\\.", colleges_df$Job.Title, ignore.case=T)
Chanc.list<-grep("CEO FOR FOUNDATION|v\\.c\\.|vice chan|vc |chancellor|CHIEF|VICE PROV", colleges_df$Job.Title, ignore.case=T)
BOT.list<-grep("BOARD OF TRUST", colleges_df$Job.Title, ignore.case=T)
HR.list<-grep("HUMAN RESRCS|hr|human resource", colleges_df$Job.Title, ignore.case=T)
mail.list<-grep("mail", colleges_df$Job.Title, ignore.case=T)
counselor.list<-grep("counselor", colleges_df$Job.Title, ignore.case=T)
advisor.list<-grep("ENROLL SVC REG|career|ACAD ADVSR|INTERNATIONAL STUDNT ADVSR|ADMISSIONS ADV/RECRUITER|registr|advisor|CREDENTIALS|EDUCATIONAL PLANNER", colleges_df$Job.Title, ignore.case=T)
library.list<-grep("INTERIM CYBRARIAN|TECHNOLOGY TECHNICIAN LBRY|libr", colleges_df$Job.Title, ignore.case=T)
retail.list<-grep("retail|book|cashier", colleges_df$Job.Title, ignore.case=T)
food.list<-grep("baker helper|DISHWASHER|snack|cook|food|CATERING", colleges_df$Job.Title, ignore.case=T)
pres.list<-grep("president", colleges_df$Job.Title, ignore.case=T)
profTech.list<-grep("PROFESSIONAL TECHNICAL", colleges_df$Job.Title, ignore.case=T)
exempt.list<-grep("ATH MKTG|POLICY ASSOCIATE|GRANT WRITER|INSTITUTIONAL RESEARCHER|PAYROLL OFFICER|PAYROLL TECHNICIAN|POLICY RESEARCH|exempt|EXMT|controller", colleges_df$Job.Title, ignore.case=T)
dean.list<-grep("DATABASE/APP ADMINISTRATOR|DN |DIVISION CHAIRPERSON|dean|PROGRAM ADMIN", colleges_df$Job.Title, ignore.case=T)
super.list<-grep("SUPERVSR|OPR SUPV|SUPERVISR|SUPERVISOR|SUPRV", colleges_df$Job.Title, ignore.case=T)
execAssist.list<-grep("EXEC ASSIST TO |ADMIN ASST-VICE|EXEC\\.+ ASST|EX AST|EXE ASST|ADM.ASST. VP|EXEC ASST|EXECUTIVE ASSIST|ADM. ASST|EXEC ADM ASSIST|SPEC\\. ASSISTANT|SPECIAL ASST TO|CONF ASST|CONFIDL SEC|ASSISTANT TO|EXECUTIVE ASSISTANT|EXECUTIVE ASST|EXEC\\. ASSISTANT|SPEC, ASST", colleges_df$Job.Title, ignore.case=T)
specialist.list<-grep("SPC|specialist|spec|CONSULT", colleges_df$Job.Title, ignore.case=T)
assist.list<-grep("VETERANS AFFAIR/FA ASSIST|STU SVC OFC ASST/TEST PCTR|AEROSPACE GRANTS PROG ASST|RECEPTIONIST|OFFSET PRINTER OPERATOR|EXTRA HELP CLASSIFIED|SUPPORT STAFF|COPY CENTER|OFFICE ASST|ADMINISTRATIVE ASST|assistant|ADMIN ASST", colleges_df$Job.Title, ignore.case=T)
facilities.list<-grep("MAINTAINANCE|MAINTENANCE|CUSTODIAL ENGINEER B|CUSTODIAL|BUILDING ENGINEER|GENERAL LABORER|CARPENTER|MAINTENANCE ENGINEER|LNDSCP|PAINTER|HEAVY EQUIPMENT|WAREHOUSE|custodian|mechanic|ELECTRICIAN|HEATING|utility worker|FACILITIES|grounds", colleges_df$Job.Title, ignore.case=T)
faculty.list<-grep("FTF-TENURE|faculty|professor|moonlight|ftf |ptf |LECTURER|instructor", colleges_df$Job.Title, ignore.case=T)
Coord.list<-grep("COOR,WORKER RETRAINING|PROGRAM SUPPORT SUPV|COOR|DOL GRANT PROJECT CORD|COORDINATOR", colleges_df$Job.Title, ignore.case=T)
progCoord.list<-grep("PROGRAM COORDINATOR", colleges_df$Job.Title, ignore.case=T)
AdminTempAssign.list<-grep("ADMIN-TEMP. ASSIGNNMENT", colleges_df$Job.Title, ignore.case=T)
security.list<-grep("SAFETY OFFICER|parking|PUBLIC SFTY|security", colleges_df$Job.Title, ignore.case=T)
secretary.list<-grep("ADMINISTRATIVE ASSIST|secretary", colleges_df$Job.Title, ignore.case=T)
manager.list<-grep("MAGR|MNGR|ADMIN SERVICE ADMINISTRATR|PROGRAM DEVELOPER|manager|MGR", colleges_df$Job.Title, ignore.case=T)
director.list<-grep("PUBLIC INFORMATION OFFICER|director|dir", colleges_df$Job.Title, ignore.case=T)
IT.list<-grep("COMPUTER&NETWRK |COMPUTER SUPPORT TECH|LEAD SYSTEMS ENGINEER|IT COMPUTER OPERATOR LEAD|DEVELOPER-IT|WEB PROG/DATABASE ADMIN|WEB DESIGNER|SHARPOINT ADMINIST/DEVELOP|SR DATABASE ADMINISTRATOR|INFORMATIONAL TECH|INFOR TECH COMP OPERATOR|APPLICATION DEVELOP|IT - COMPUTER OPERATOR|HELP DESK TECHNICIAN|SOFTWARE ENGINEER|COMPUTER&NETWRK SUPRT TECH|DEVELOPER - SOFTWARE|COMPUTER MAIN TECH|IT DATA PROCESSOR|COMPUTER SYSTEM TECHNICIAN|IT - COMPUTER OPER LEAD|DATA COMPILER|webmaster|COMPUTER PROGRAMMER|IT TECH|EQUIPMENT TECHNICIAN|CMPUTR/NETWRK MAINT TECH|SYSTEMS ADMINISTRATOR|IT TECHNICIAN|INFORMATION TECH SPEC|NETWORK|info tech|INFOR TECH TECHNICIAN", colleges_df$Job.Title, ignore.case=T)
childhood.list<-grep(" IT COMPUTER OPERATOR|EDUCATION PL/RETENTION |PARENT MENTOR|childhood|child", colleges_df$Job.Title, ignore.case=T)
instrSupport.list<-grep("INST&CLASSRM SUPPT TECH|INSTR%CLASSROON SUPT TCH4|INSTRUCT TECH|INSTR & CLASSRM SUPP|INSTRUCTIONAL SUPPORT|INSTRUCTIONAL ASST|INST & CLASS SUP|INST & CLASS SUP|INSTR&CLASS SUPP TECH1|INSTR & CLASSRM SUPP TECH2|LAB TECH|INSTR/CLASS SUPP TECH|LABORATORY TECHNICIAN|INSTR&CLASS SUP TECH|INSTRUCTIONAL PRGM ASST|INSTRUCTIONAL TECH|INSTR&CLASSROOM SUPT|INSTRUCTION & CLASSROOM SUPPORT|INSTR & CLASS SUPP|INSTRUCTIONAL TECHNICIAN", colleges_df$Job.Title, ignore.case=T)
fiscal.list<-grep("FMS/PPMS|ACCOUNTING|INTERNAL AUDITOR|ACCOUNTS PAYABLE|budget|fiscal|FINANCIAL|ACCOUNTANT|ANALYST", colleges_df$Job.Title, ignore.case=T)
media.list<-grep("DIGITAL PRINTING|PRINTER-LITHOGRAPHER|media|graphic", colleges_df$Job.Title, ignore.case=T)
coach.list<-grep("ATHLETIC|coach", colleges_df$Job.Title, ignore.case=T)
colleges_df$job.cat<-factor(colleges_df$job.cat,
sort(c(
"assistant",
"media",
'Chancellor',
"coach",
'boardTrust',
'library',
"vicePres",
'food',
"exempt",
"execAssist",
'dean',
"faculty",
"Program_Coord",
"Coordinator",
"AdminTempAssign",
"Program_Assist",
"facilities",
"security",
"secretary",
"manager",
'supervisor',
'director',
'it_depart',
'specialist',
'early_child',
'instruct_suppt',
'fiscal',
'profTech',
'president',
'retail',
'HR',
'mail',
'counselor',
'advisor',
"other"
)
))
##WARNING; BEWARE OF CHANGING ORDER BELOW, ELSE CATEGORIES WILL CHANGE
colleges_df$job.cat[pres.list]<-"president"
colleges_df$job.cat[Chanc.list]<-"Chancellor"
colleges_df$job.cat[BOT.list]<-'boardTrust'
colleges_df$job.cat[HR.list]<-'HR'
colleges_df$job.cat[vicePres.list]<-"vicePres"
colleges_df$job.cat[media.list]<-'media'
colleges_df$job.cat[mail.list]<-"mail"
colleges_df$job.cat[counselor.list]<-"counselor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[retail.list]<-"retail"
colleges_df$job.cat[library.list]<-"library"
colleges_df$job.cat[profTech.list]<-"profTech"
colleges_df$job.cat[food.list]<-"food"
colleges_df$job.cat[exempt.list]<-"exempt"
colleges_df$job.cat[specialist.list]<-"specialist"
colleges_df$job.cat[faculty.list]<-"faculty"
colleges_df$job.cat[Coord.list]<- "Coordinator"
colleges_df$job.cat[progCoord.list]<-"Program_Coord"
colleges_df$job.cat[AdminTempAssign.list]<-"AdminTempAssign"
colleges_df$job.cat[coach.list]<-"coach"
colleges_df$job.cat[facilities.list]<-"facilities"
colleges_df$job.cat[security.list]<-"security"
colleges_df$job.cat[secretary.list]<-"secretary"
colleges_df$job.cat[manager.list]<-"manager"
colleges_df$job.cat[director.list]<-"director"
colleges_df$job.cat[IT.list]<-"it_depart"
colleges_df$job.cat[childhood.list]<-"early_child"
colleges_df$job.cat[instrSupport.list]<-"instruct_suppt"
colleges_df$job.cat[fiscal.list]<-"fiscal"
colleges_df$job.cat[super.list]<-"supervisor"
colleges_df$job.cat[assist.list]<-"assistant"
colleges_df$job.cat[execAssist.list]<-"execAssist"
colleges_df$job.cat[dean.list]<-"dean"
tail(sort(table(colleges_df$Job.Title[colleges_df$job.cat=='other'])),100)
colleges_df[colleges_df$Job.Title =='PRINCIPAL,HIGH SCHOOL']
colleges_df[colleges_df$Job.Title =='PRINCIPAL,HIGH SCHOOL',]
#
colleges_df$job.cat<-"other"
vicePres.list<-grep("PRINCIPAL,HIGH SCHOOL|COLLEGE INFORMATION OFFICR|VICE-PRES|vp|vice pres|v\\.p\\.", colleges_df$Job.Title, ignore.case=T)
Chanc.list<-grep("CEO FOR FOUNDATION|v\\.c\\.|vice chan|vc |chancellor|CHIEF|VICE PROV", colleges_df$Job.Title, ignore.case=T)
BOT.list<-grep("BOARD OF TRUST", colleges_df$Job.Title, ignore.case=T)
HR.list<-grep("HUMAN RESRCS|hr|human resource", colleges_df$Job.Title, ignore.case=T)
mail.list<-grep("mail", colleges_df$Job.Title, ignore.case=T)
counselor.list<-grep("counselor", colleges_df$Job.Title, ignore.case=T)
advisor.list<-grep("ENROLL SVC REG|career|ACAD ADVSR|INTERNATIONAL STUDNT ADVSR|ADMISSIONS ADV/RECRUITER|registr|advisor|CREDENTIALS|EDUCATIONAL PLANNER", colleges_df$Job.Title, ignore.case=T)
library.list<-grep("INTERIM CYBRARIAN|TECHNOLOGY TECHNICIAN LBRY|libr", colleges_df$Job.Title, ignore.case=T)
retail.list<-grep("retail|book|cashier", colleges_df$Job.Title, ignore.case=T)
food.list<-grep("baker helper|DISHWASHER|snack|cook|food|CATERING", colleges_df$Job.Title, ignore.case=T)
pres.list<-grep("president", colleges_df$Job.Title, ignore.case=T)
profTech.list<-grep("PROFESSIONAL TECHNICAL", colleges_df$Job.Title, ignore.case=T)
exempt.list<-grep("ATH MKTG|POLICY ASSOCIATE|GRANT WRITER|INSTITUTIONAL RESEARCHER|PAYROLL OFFICER|PAYROLL TECHNICIAN|POLICY RESEARCH|exempt|EXMT|controller", colleges_df$Job.Title, ignore.case=T)
dean.list<-grep("DATABASE/APP ADMINISTRATOR|DN |DIVISION CHAIRPERSON|dean|PROGRAM ADMIN", colleges_df$Job.Title, ignore.case=T)
super.list<-grep("SUPERVSR|OPR SUPV|SUPERVISR|SUPERVISOR|SUPRV", colleges_df$Job.Title, ignore.case=T)
execAssist.list<-grep("EXECT ASST|ADMIN ASSIST PRES OFFICE|EXEC ASSIST TO |ADMIN ASST-VICE|EXEC\\.+ ASST|EX AST|EXE ASST|ADM.ASST. VP|EXEC ASST|EXECUTIVE ASSIST|ADM. ASST|EXEC ADM ASSIST|SPEC\\. ASSISTANT|SPECIAL ASST TO|CONF ASST|CONFIDL SEC|ASSISTANT TO|EXECUTIVE ASSISTANT|EXECUTIVE ASST|EXEC\\. ASSISTANT|SPEC, ASST", colleges_df$Job.Title, ignore.case=T)
specialist.list<-grep("ATH FUNDRSR INTR/RODEO|SPC|specialist|spec|CONSULT", colleges_df$Job.Title, ignore.case=T)
assist.list<-grep("VETERANS AFFAIR/FA ASSIST|STU SVC OFC ASST/TEST PCTR|AEROSPACE GRANTS PROG ASST|RECEPTIONIST|OFFSET PRINTER OPERATOR|EXTRA HELP CLASSIFIED|SUPPORT STAFF|COPY CENTER|OFFICE ASST|ADMINISTRATIVE ASST|assistant|ADMIN ASST", colleges_df$Job.Title, ignore.case=T)
facilities.list<-grep("ELECTRONICS TECHNICIAN|BUILDING MAIN LEAD|MAINTAINANCE|MAINTENANCE|CUSTODIAL ENGINEER B|CUSTODIAL|BUILDING ENGINEER|GENERAL LABORER|CARPENTER|MAINTENANCE ENGINEER|LNDSCP|PAINTER|HEAVY EQUIPMENT|WAREHOUSE|custodian|mechanic|ELECTRICIAN|HEATING|utility worker|FACILITIES|grounds", colleges_df$Job.Title, ignore.case=T)
faculty.list<-grep("FTF-TENURE|faculty|professor|moonlight|ftf |ptf |LECTURER|instructor", colleges_df$Job.Title, ignore.case=T)
Coord.list<-grep("COOR,WORKER RETRAINING|PROGRAM SUPPORT SUPV|COOR|DOL GRANT PROJECT CORD|COORDINATOR", colleges_df$Job.Title, ignore.case=T)
progCoord.list<-grep("PROGRAM COORDINATOR", colleges_df$Job.Title, ignore.case=T)
AdminTempAssign.list<-grep("ADMIN-TEMP. ASSIGNNMENT", colleges_df$Job.Title, ignore.case=T)
security.list<-grep("SAFETY OFFICER|parking|PUBLIC SFTY|security", colleges_df$Job.Title, ignore.case=T)
secretary.list<-grep("ADMINISTRATIVE ASSIST|secretary", colleges_df$Job.Title, ignore.case=T)
manager.list<-grep("MAGR|MNGR|ADMIN SERVICE ADMINISTRATR|PROGRAM DEVELOPER|manager|MGR", colleges_df$Job.Title, ignore.case=T)
director.list<-grep("PUBLIC INFORMATION OFFICER|director|dir", colleges_df$Job.Title, ignore.case=T)
IT.list<-grep("INSTR SERVER ADMINISTRATOR|DATA CLERK|DATABASE/WEB APP PROGRAMME|DATABASE ADMINISTRATOR|COMPUTER&NETWRK |COMPUTER SUPPORT TECH|LEAD SYSTEMS ENGINEER|IT COMPUTER OPERATOR LEAD|DEVELOPER-IT|WEB PROG/DATABASE ADMIN|WEB DESIGNER|SHARPOINT ADMINIST/DEVELOP|SR DATABASE ADMINISTRATOR|INFORMATIONAL TECH|INFOR TECH COMP OPERATOR|APPLICATION DEVELOP|IT - COMPUTER OPERATOR|HELP DESK TECHNICIAN|SOFTWARE ENGINEER|COMPUTER&NETWRK SUPRT TECH|DEVELOPER - SOFTWARE|COMPUTER MAIN TECH|IT DATA PROCESSOR|COMPUTER SYSTEM TECHNICIAN|IT - COMPUTER OPER LEAD|DATA COMPILER|webmaster|COMPUTER PROGRAMMER|IT TECH|EQUIPMENT TECHNICIAN|CMPUTR/NETWRK MAINT TECH|SYSTEMS ADMINISTRATOR|IT TECHNICIAN|INFORMATION TECH SPEC|NETWORK|info tech|INFOR TECH TECHNICIAN", colleges_df$Job.Title, ignore.case=T)
childhood.list<-grep(" IT COMPUTER OPERATOR|EDUCATION PL/RETENTION |PARENT MENTOR|childhood|child", colleges_df$Job.Title, ignore.case=T)
instrSupport.list<-grep("INST&CLASSRM SUPPT TECH|INSTR%CLASSROON SUPT TCH4|INSTRUCT TECH|INSTR & CLASSRM SUPP|INSTRUCTIONAL SUPPORT|INSTRUCTIONAL ASST|INST & CLASS SUP|INST & CLASS SUP|INSTR&CLASS SUPP TECH1|INSTR & CLASSRM SUPP TECH2|LAB TECH|INSTR/CLASS SUPP TECH|LABORATORY TECHNICIAN|INSTR&CLASS SUP TECH|INSTRUCTIONAL PRGM ASST|INSTRUCTIONAL TECH|INSTR&CLASSROOM SUPT|INSTRUCTION & CLASSROOM SUPPORT|INSTR & CLASS SUPP|INSTRUCTIONAL TECHNICIAN", colleges_df$Job.Title, ignore.case=T)
fiscal.list<-grep("FMS/PPMS|ACCOUNTING|INTERNAL AUDITOR|ACCOUNTS PAYABLE|budget|fiscal|FINANCIAL|ACCOUNTANT|ANALYST", colleges_df$Job.Title, ignore.case=T)
media.list<-grep("DIGITAL PRINTING|PRINTER-LITHOGRAPHER|media|graphic", colleges_df$Job.Title, ignore.case=T)
coach.list<-grep("ATHLETIC|coach", colleges_df$Job.Title, ignore.case=T)
colleges_df$job.cat<-factor(colleges_df$job.cat,
sort(c(
"assistant",
"media",
'Chancellor',
"coach",
'boardTrust',
'library',
"vicePres",
'food',
"exempt",
"execAssist",
'dean',
"faculty",
"Program_Coord",
"Coordinator",
"AdminTempAssign",
"Program_Assist",
"facilities",
"security",
"secretary",
"manager",
'supervisor',
'director',
'it_depart',
'specialist',
'early_child',
'instruct_suppt',
'fiscal',
'profTech',
'president',
'retail',
'HR',
'mail',
'counselor',
'advisor',
"other"
)
))
##WARNING; BEWARE OF CHANGING ORDER BELOW, ELSE CATEGORIES WILL CHANGE
colleges_df$job.cat[pres.list]<-"president"
colleges_df$job.cat[Chanc.list]<-"Chancellor"
colleges_df$job.cat[BOT.list]<-'boardTrust'
colleges_df$job.cat[HR.list]<-'HR'
colleges_df$job.cat[vicePres.list]<-"vicePres"
colleges_df$job.cat[media.list]<-'media'
colleges_df$job.cat[mail.list]<-"mail"
colleges_df$job.cat[counselor.list]<-"counselor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[retail.list]<-"retail"
colleges_df$job.cat[library.list]<-"library"
colleges_df$job.cat[profTech.list]<-"profTech"
colleges_df$job.cat[food.list]<-"food"
colleges_df$job.cat[exempt.list]<-"exempt"
colleges_df$job.cat[specialist.list]<-"specialist"
colleges_df$job.cat[faculty.list]<-"faculty"
colleges_df$job.cat[Coord.list]<- "Coordinator"
colleges_df$job.cat[progCoord.list]<-"Program_Coord"
colleges_df$job.cat[AdminTempAssign.list]<-"AdminTempAssign"
colleges_df$job.cat[coach.list]<-"coach"
colleges_df$job.cat[facilities.list]<-"facilities"
colleges_df$job.cat[security.list]<-"security"
colleges_df$job.cat[secretary.list]<-"secretary"
colleges_df$job.cat[manager.list]<-"manager"
colleges_df$job.cat[director.list]<-"director"
colleges_df$job.cat[IT.list]<-"it_depart"
colleges_df$job.cat[childhood.list]<-"early_child"
colleges_df$job.cat[instrSupport.list]<-"instruct_suppt"
colleges_df$job.cat[fiscal.list]<-"fiscal"
colleges_df$job.cat[super.list]<-"supervisor"
colleges_df$job.cat[assist.list]<-"assistant"
colleges_df$job.cat[execAssist.list]<-"execAssist"
colleges_df$job.cat[dean.list]<-"dean"
tail(sort(table(colleges_df$Job.Title[colleges_df$job.cat=='other'])),100)
colleges_df[grep('FACILITATOR',colleges_df$Job.Title,]
colleges_df[grep('FACILITATOR',colleges_df$Job.Title),]
#
colleges_df$job.cat<-"other"
vicePres.list<-grep("PRINCIPAL,HIGH SCHOOL|COLLEGE INFORMATION OFFICR|VICE-PRES|vp|vice pres|v\\.p\\.", colleges_df$Job.Title, ignore.case=T)
Chanc.list<-grep("CEO FOR FOUNDATION|v\\.c\\.|vice chan|vc |chancellor|CHIEF|VICE PROV", colleges_df$Job.Title, ignore.case=T)
BOT.list<-grep("BOARD OF TRUST", colleges_df$Job.Title, ignore.case=T)
HR.list<-grep("HUMAN RESRCS|hr|human resource", colleges_df$Job.Title, ignore.case=T)
mail.list<-grep("mail", colleges_df$Job.Title, ignore.case=T)
counselor.list<-grep("counselor", colleges_df$Job.Title, ignore.case=T)
advisor.list<-grep("ENROLL SVC REG|career|ACAD ADVSR|INTERNATIONAL STUDNT ADVSR|ADMISSIONS ADV/RECRUITER|registr|advisor|CREDENTIALS|EDUCATIONAL PLANNER", colleges_df$Job.Title, ignore.case=T)
library.list<-grep("INTERIM CYBRARIAN|TECHNOLOGY TECHNICIAN LBRY|libr", colleges_df$Job.Title, ignore.case=T)
retail.list<-grep("retail|book|cashier", colleges_df$Job.Title, ignore.case=T)
food.list<-grep("baker helper|DISHWASHER|snack|cook|food|CATERING", colleges_df$Job.Title, ignore.case=T)
pres.list<-grep("president", colleges_df$Job.Title, ignore.case=T)
profTech.list<-grep("PROFESSIONAL TECHNICAL", colleges_df$Job.Title, ignore.case=T)
exempt.list<-grep("ATH MKTG|POLICY ASSOCIATE|GRANT WRITER|INSTITUTIONAL RESEARCHER|PAYROLL OFFICER|PAYROLL TECHNICIAN|POLICY RESEARCH|exempt|EXMT|controller", colleges_df$Job.Title, ignore.case=T)
dean.list<-grep("DATABASE/APP ADMINISTRATOR|DN |DIVISION CHAIRPERSON|dean|PROGRAM ADMIN", colleges_df$Job.Title, ignore.case=T)
super.list<-grep("SUPERVSR|OPR SUPV|SUPERVISR|SUPERVISOR|SUPRV", colleges_df$Job.Title, ignore.case=T)
execAssist.list<-grep("EXECT ASST|ADMIN ASSIST PRES OFFICE|EXEC ASSIST TO |ADMIN ASST-VICE|EXEC\\.+ ASST|EX AST|EXE ASST|ADM.ASST. VP|EXEC ASST|EXECUTIVE ASSIST|ADM. ASST|EXEC ADM ASSIST|SPEC\\. ASSISTANT|SPECIAL ASST TO|CONF ASST|CONFIDL SEC|ASSISTANT TO|EXECUTIVE ASSISTANT|EXECUTIVE ASST|EXEC\\. ASSISTANT|SPEC, ASST", colleges_df$Job.Title, ignore.case=T)
specialist.list<-grep("FACILITATOR|ATH FUNDRSR INTR/RODEO|SPC|specialist|spec|CONSULT", colleges_df$Job.Title, ignore.case=T)
assist.list<-grep("VETERANS AFFAIR/FA ASSIST|STU SVC OFC ASST/TEST PCTR|AEROSPACE GRANTS PROG ASST|RECEPTIONIST|OFFSET PRINTER OPERATOR|EXTRA HELP CLASSIFIED|SUPPORT STAFF|COPY CENTER|OFFICE ASST|ADMINISTRATIVE ASST|assistant|ADMIN ASST", colleges_df$Job.Title, ignore.case=T)
facilities.list<-grep("CONSTR& MAINT PROJ LEAD|TOOL ROOM ATTENDANT|ELECTRONICS TECHNICIAN|BUILDING MAIN LEAD|MAINTAINANCE|MAINTENANCE|CUSTODIAL ENGINEER B|CUSTODIAL|BUILDING ENGINEER|GENERAL LABORER|CARPENTER|MAINTENANCE ENGINEER|LNDSCP|PAINTER|HEAVY EQUIPMENT|WAREHOUSE|custodian|mechanic|ELECTRICIAN|HEATING|utility worker|FACILITIES|grounds", colleges_df$Job.Title, ignore.case=T)
faculty.list<-grep("ENOLOGY INSTR/WINEMAKER|FTF-TENURE|faculty|professor|moonlight|ftf |ptf |LECTURER|instructor", colleges_df$Job.Title, ignore.case=T)
Coord.list<-grep("COOR,WORKER RETRAINING|PROGRAM SUPPORT SUPV|COOR|DOL GRANT PROJECT CORD|COORDINATOR", colleges_df$Job.Title, ignore.case=T)
progCoord.list<-grep("PROGRAM COORDINATOR", colleges_df$Job.Title, ignore.case=T)
AdminTempAssign.list<-grep("ADMIN-TEMP. ASSIGNNMENT", colleges_df$Job.Title, ignore.case=T)
security.list<-grep("SAFETY OFFICER|parking|PUBLIC SFTY|security", colleges_df$Job.Title, ignore.case=T)
secretary.list<-grep("ADMINISTRATIVE ASSIST|secretary", colleges_df$Job.Title, ignore.case=T)
manager.list<-grep("MAGR|MNGR|ADMIN SERVICE ADMINISTRATR|PROGRAM DEVELOPER|manager|MGR", colleges_df$Job.Title, ignore.case=T)
director.list<-grep("PUBLIC INFORMATION OFFICER|director|dir", colleges_df$Job.Title, ignore.case=T)
IT.list<-grep("SYSTEM ADMINISTRATOR|SOFTWARE QA ENGINEER|SENIOR SYSTEMS INTEGRATOR|SYSTEMS ARCHITECT|INSTR SERVER ADMINISTRATOR|DATA CLERK|DATABASE/WEB APP PROGRAMME|DATABASE ADMINISTRATOR|COMPUTER&NETWRK |COMPUTER SUPPORT TECH|LEAD SYSTEMS ENGINEER|IT COMPUTER OPERATOR LEAD|DEVELOPER-IT|WEB PROG/DATABASE ADMIN|WEB DESIGNER|SHARPOINT ADMINIST/DEVELOP|SR DATABASE ADMINISTRATOR|INFORMATIONAL TECH|INFOR TECH COMP OPERATOR|APPLICATION DEVELOP|IT - COMPUTER OPERATOR|HELP DESK TECHNICIAN|SOFTWARE ENGINEER|COMPUTER&NETWRK SUPRT TECH|DEVELOPER - SOFTWARE|COMPUTER MAIN TECH|IT DATA PROCESSOR|COMPUTER SYSTEM TECHNICIAN|IT - COMPUTER OPER LEAD|DATA COMPILER|webmaster|COMPUTER PROGRAMMER|IT TECH|EQUIPMENT TECHNICIAN|CMPUTR/NETWRK MAINT TECH|SYSTEMS ADMINISTRATOR|IT TECHNICIAN|INFORMATION TECH SPEC|NETWORK|info tech|INFOR TECH TECHNICIAN", colleges_df$Job.Title, ignore.case=T)
childhood.list<-grep(" IT COMPUTER OPERATOR|EDUCATION PL/RETENTION |PARENT MENTOR|childhood|child", colleges_df$Job.Title, ignore.case=T)
instrSupport.list<-grep("INST&CLASSRM SUPPT TECH|INSTR%CLASSROON SUPT TCH4|INSTRUCT TECH|INSTR & CLASSRM SUPP|INSTRUCTIONAL SUPPORT|INSTRUCTIONAL ASST|INST & CLASS SUP|INST & CLASS SUP|INSTR&CLASS SUPP TECH1|INSTR & CLASSRM SUPP TECH2|LAB TECH|INSTR/CLASS SUPP TECH|LABORATORY TECHNICIAN|INSTR&CLASS SUP TECH|INSTRUCTIONAL PRGM ASST|INSTRUCTIONAL TECH|INSTR&CLASSROOM SUPT|INSTRUCTION & CLASSROOM SUPPORT|INSTR & CLASS SUPP|INSTRUCTIONAL TECHNICIAN", colleges_df$Job.Title, ignore.case=T)
fiscal.list<-grep("FMS/PPMS|ACCOUNTING|INTERNAL AUDITOR|ACCOUNTS PAYABLE|budget|fiscal|FINANCIAL|ACCOUNTANT|ANALYST", colleges_df$Job.Title, ignore.case=T)
media.list<-grep("DIGITAL PRINTING|PRINTER-LITHOGRAPHER|media|graphic", colleges_df$Job.Title, ignore.case=T)
coach.list<-grep("ATHLETIC|coach", colleges_df$Job.Title, ignore.case=T)
colleges_df$job.cat<-factor(colleges_df$job.cat,
sort(c(
"assistant",
"media",
'Chancellor',
"coach",
'boardTrust',
'library',
"vicePres",
'food',
"exempt",
"execAssist",
'dean',
"faculty",
"Program_Coord",
"Coordinator",
"AdminTempAssign",
"Program_Assist",
"facilities",
"security",
"secretary",
"manager",
'supervisor',
'director',
'it_depart',
'specialist',
'early_child',
'instruct_suppt',
'fiscal',
'profTech',
'president',
'retail',
'HR',
'mail',
'counselor',
'advisor',
"other"
)
))
##WARNING; BEWARE OF CHANGING ORDER BELOW, ELSE CATEGORIES WILL CHANGE
colleges_df$job.cat[pres.list]<-"president"
colleges_df$job.cat[Chanc.list]<-"Chancellor"
colleges_df$job.cat[BOT.list]<-'boardTrust'
colleges_df$job.cat[HR.list]<-'HR'
colleges_df$job.cat[vicePres.list]<-"vicePres"
colleges_df$job.cat[media.list]<-'media'
colleges_df$job.cat[mail.list]<-"mail"
colleges_df$job.cat[counselor.list]<-"counselor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[advisor.list]<-"advisor"
colleges_df$job.cat[retail.list]<-"retail"
colleges_df$job.cat[library.list]<-"library"
colleges_df$job.cat[profTech.list]<-"profTech"
colleges_df$job.cat[food.list]<-"food"
colleges_df$job.cat[exempt.list]<-"exempt"
colleges_df$job.cat[specialist.list]<-"specialist"
colleges_df$job.cat[faculty.list]<-"faculty"
colleges_df$job.cat[Coord.list]<- "Coordinator"
colleges_df$job.cat[progCoord.list]<-"Program_Coord"
colleges_df$job.cat[AdminTempAssign.list]<-"AdminTempAssign"
colleges_df$job.cat[coach.list]<-"coach"
colleges_df$job.cat[facilities.list]<-"facilities"
colleges_df$job.cat[security.list]<-"security"
colleges_df$job.cat[secretary.list]<-"secretary"
colleges_df$job.cat[manager.list]<-"manager"
colleges_df$job.cat[director.list]<-"director"
colleges_df$job.cat[IT.list]<-"it_depart"
colleges_df$job.cat[childhood.list]<-"early_child"
colleges_df$job.cat[instrSupport.list]<-"instruct_suppt"
colleges_df$job.cat[fiscal.list]<-"fiscal"
colleges_df$job.cat[super.list]<-"supervisor"
colleges_df$job.cat[assist.list]<-"assistant"
colleges_df$job.cat[execAssist.list]<-"execAssist"
colleges_df$job.cat[dean.list]<-"dean"
tail(sort(table(colleges_df$Job.Title[colleges_df$job.cat=='other'])),100)
forPlot<-colleges_df %>%
filter(colleges_df$year != "2010" & colleges_df$Code != '352') %>%
#  filter(colleges_df$year != "2010" & colleges_df$Code =='670') %>%
group_by(Agency,job.cat,year) %>%
summarise(N=n(),Mean=mean(Salary,na.rm=T),Median=median(Salary,na.rm=T),SalaryTotal=sum(Salary,na.rm=T)) %>%
arrange(desc(N))
plot(forPlot,cex=.8,pch=20,col=forPlot$Agency)
forPlot<-colleges_df %>%
filter( colleges_df$Code != '352') %>%
#  filter(colleges_df$year != "2010" & colleges_df$Code =='670') %>%
group_by(Agency,job.cat,year) %>%
summarise(N=n(),Mean=mean(Salary,na.rm=T),Median=median(Salary,na.rm=T),SalaryTotal=sum(Salary,na.rm=T)) %>%
arrange(desc(N))
plot(forPlot,cex=.8,pch=20,col=forPlot$Agency)
par(mfrow=c(1,2))
boxplot(forPlot$N~forPlot$job.cat, las=2,main="Number of Employees by Job category,\n across state 2010-2104")
boxplot(forPlot$Median~forPlot$job.cat, las=2,main="Median Salary by Job category,\n across state 2010-2104")
par(mar=c(1,1,1,1))
boxplot(forPlot$N~forPlot$job.cat, las=2,main="Number of Employees by Job category,\n across state 2010-2104")
par(mfrow=c(1,1))
boxplot(forPlot$N~forPlot$job.cat, las=2,main="Number of Employees by Job category,\n across state 2010-2104")
boxplot(forPlot$Median~forPlot$job.cat, las=2,main="Median Salary by Job category,\n across state 2010-2104")
dev.off()
boxplot(forPlot$N~forPlot$job.cat, las=2,main="Number of Employees by Job category,\n across state 2010-2104")
boxplot(forPlot$Median~forPlot$job.cat, las=2,main="Median Salary by Job category,\n across state 2010-2104")
boxplot(forPlot$Mean~forPlot$job.cat, las=2,main="Mean Salary by Job category,\n across state 2010-2104")
boxplot(forPlot$SalaryTotal~forPlot$job.cat, las=2,main="Sum of all Salaries by Job category,\n across state 2010-2104")
seattle<-colleges_df[grep("seattle",ignore.case=T,colleges_df$Agency),]
p<-ggplot(seattle[seattle$job.cat=="faculty",], aes(year))
p+geom_bar()+
#  theme(axis.text.x = element_text(angle = 90, hjust = 1))+
facet_wrap(~job.cat)+
ggtitle("Count of faculty \nin Seattle, \n2011-2014")
table(seattle$job.cat)
tmp<-seattle[which(seattle$job.cat=='manager'|seattle$job.cat=='dean'|seattle$job.cat=='specialist'|seattle$job.cat=='director'|seattle$job.cat=='Coordinator'),]
p<-ggplot(tmp, aes(year))
p+geom_bar()+
ggtitle("Count of specialists \nin Seattle, \n2011-2014")
p+geom_bar()+
ggtitle("Count of specialits, managers, deans directors \nin Seattle, \n2011-2014")
p+geom_bar()+
ggtitle("Count of specialits, managers, deans, directors \nin Seattle, \n2011-2014")
tapply(tmp$Salary,tmp$year,median)
tapply(tmp$Salary,tmp$year,sum)
tapply(tmp$Salary,tmp$job.cat,median)
tmp$job.cat<-droplevels(tmp$job.cat)
tapply(tmp$Salary,tmp$job.cat,median)
tmp$Job.Title<-droplevels(tmp$Job.Title)
table(tmp$Job.Title)
sort(table(tmp$Job.Title))
table(tmp$job.cat)
table(tmp$job.cat,tmp$year)
head(colleges_df)
forPlot
colleges_df[colleges_df$Agency=='Bates',][colleges_df$job.cat=='Chancellor',]
colleges_df[colleges_df$Agency=='Bates'& colleges_df$job.cat=='Chancellor',]
colleges_df[which(colleges_df$Agency=='Bates' & colleges_df$job.cat=='Chancellor'),]
colleges_df[which(colleges_df$job.cat=='Chancellor'),]
colleges_df[which(colleges_df$job.cat=='Chancellor' && colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$job.cat=='Chancellor' & colleges_df$Agency=='Bates'),]
?which
colleges_df[which(colleges_df$job.cat=='Chancellor', colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$job.cat=='Chancellor', colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$job.cat=='Chancellor'), which(colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$job.cat=='Chancellor' &&  colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$job.cat=='Chancellor' |  colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$job.cat=='Chancellor' &|  colleges_df$Agency=='Bates'),]
colleges_df[which(colleges_df$Agency =='Bates'),]
colleges_df[which(colleges_df$Agency == 'Bates'),]
table(colleges_df$Agency)
colleges_df[which(colleges_df$Agency == 'Bates '),]
colleges_df[which(colleges_df$Agency == 'Bates ' & colleges_df$job.cat=="chancellor"),]
colleges_df[which(colleges_df$Agency == 'Bates ' & colleges_df$job.cat=="Chancellor"),]
colleges_df[which(colleges_df$Agency == 'Seattle' & colleges_df$job.cat=="Chancellor"),]
table(colleges_df$Agency)
colleges_df[which(colleges_df$Agency == 'Seattle ' & colleges_df$job.cat=="Chancellor"),]
colleges_df[which(colleges_df$Agency == 'Seattle ' & grep("chanc",ignore.case=T, colleges_df$Job.Title),]
colleges_df[which(colleges_df$Agency == 'Seattle ' & grep("chanc",ignore.case=T, colleges_df$Job.Title)),]
colleges_df[which(grep("chanc",ignore.case=T, colleges_df$Job.Title)),]
colleges_df[which(grepl("chanc",ignore.case=T, colleges_df$Job.Title)),]
colleges_df[which(colleges_df$Agency == 'Seattle ' & grepl("chanc",ignore.case=T, colleges_df$Job.Title)),]
colleges_df[which(colleges_df$Agency == 'Seattle ' & grepl("presid",ignore.case=T, colleges_df$Job.Title)),]
perCont<-seattle %>% group_by(Agency,Job.Title,job.cat,year) %>% mutate(contribution = Salary/sum(Salary))
head(perCont)
sum(colleges_df$Salary)
14119.76/sum(colleges_df$Salary)
ls()
subset(colleges_df,Code=='670')$Agency
subset(colleges_df,Code=='670' & grepl('chanc',ignore.case=T,Job.Title))$Salary
